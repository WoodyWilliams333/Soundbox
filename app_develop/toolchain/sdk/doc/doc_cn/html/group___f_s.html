<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>MDP820: 文件系统</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<script type="text/javascript" src="version.js"></script>
<script type="text/javascript" src="language.js"></script>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MDP820.jpg"/></td>
  <td width="100%" style="padding-left: 0.5em;">
   <div id="projectname" style="display:table-cell;vertical-align:middle;text-align:center">MDP820
		<span id="projectnumber">
			<select>
				<option value ="8.2.3">8.2.3</option>
			</select>
		</span>
   </div>
   <div id="projectbrief">MDP820-API</div>
  </td>
  <td>
    <span id="projectlang" style="margin-right: 1em;">
		<select>
			<!-- <option value ="ch">中文</option> -->
			<!-- <option value ="en">English</option> -->
		</select>
	</span>
   </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___f_s.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">文件系统</div>  </div>
</div><!--header-->
<div class="contents">

<p>此模块用于描述 <b>文件系统模块</b> 相关的接口  
<a href="#details">更多...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gaef22b7b0f82a0fe46764cdf5114d8855"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s.html#gaef22b7b0f82a0fe46764cdf5114d8855">file_system_module_demo_code_never_call_this_api_please</a> (void)</td></tr>
<tr class="memdesc:gaef22b7b0f82a0fe46764cdf5114d8855"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b> 文件系统操作<span style="color:red">示例</span>代码<span style="color:red">(请勿调用此接口)</span></b>  <a href="group___f_s.html#gaef22b7b0f82a0fe46764cdf5114d8855">更多...</a><br /></td></tr>
<tr class="separator:gaef22b7b0f82a0fe46764cdf5114d8855"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>此模块用于描述 <b>文件系统模块</b> 相关的接口 </p>
<dl class="section author"><dt>作者</dt><dd>liluchang </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2019-01-24 </dd></dl>
<dl class="section version"><dt>版本</dt><dd>V1.0 </dd></dl>
<dl class="section remark"><dt>备注</dt><dd>Change History: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date </th><th class="markdownTableHeadNone">Version </th><th class="markdownTableHeadNone">Author </th><th class="markdownTableHeadNone">Desc  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2019/01/24 </td><td class="markdownTableBodyNone">1.0.0 </td><td class="markdownTableBodyNone">liluchang </td><td class="markdownTableBodyNone">创建文件  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2022/04/20 </td><td class="markdownTableBodyNone">1.0.1 </td><td class="markdownTableBodyNone">Wenming </td><td class="markdownTableBodyNone">增加英文注释  </td></tr>
</table>
</dd></dl>
<p><br  />
 </p>
<h2 class="groupheader">函数说明</h2>
<a id="gaef22b7b0f82a0fe46764cdf5114d8855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef22b7b0f82a0fe46764cdf5114d8855">&#9670;&nbsp;</a></span>file_system_module_demo_code_never_call_this_api_please()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void file_system_module_demo_code_never_call_this_api_please </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b> 文件系统操作<span style="color:red">示例</span>代码<span style="color:red">(请勿调用此接口)</span></b> </p>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">无</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><span style="color:red"> <b> 非正常应用调用接口，仅供示例代码参考，请勿调用 </b> </span> </dd></dl>
<dl class="section user"><dt>示例:</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//打开文件</span></div>
<div class="line"><span class="comment">//oflag支持以下输入: O_CREAT/O_RDONLY/O_WRONLY/O_RDWR/O_TRUNC/O_APPEND</span></div>
<div class="line"><span class="keywordtype">int</span> file_open(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathname, <span class="keywordtype">int</span> oflag)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> fd = -1;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;pathname = %s flag = %X O_CREAT = %X\n&quot;</span>, pathname, oflag, O_CREAT);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( (oflag &amp; O_CREAT) != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;creat or open file\n&quot;</span>);</div>
<div class="line">        fd = open(pathname, oflag, 0664); <span class="comment">//0664可忽略，底层文件系统并不会实际创建其属性</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;open file\n&quot;</span>);</div>
<div class="line">        fd = open(pathname, oflag);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> fd;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//关闭文件</span></div>
<div class="line"><span class="keywordtype">int</span> file_close(<span class="keywordtype">int</span> fd)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> close(fd);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//文件读写位置偏移，新的读写位置为: 以Whence为基点的，偏移量为Offset的位置</span></div>
<div class="line"><span class="keywordtype">int</span> file_seek(<span class="keywordtype">int</span> fd, uint32_t Offset, <span class="keywordtype">int</span> Whence)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> lseek(fd, Offset, Whence);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//从文件中读取内容</span></div>
<div class="line"><span class="keywordtype">int</span> file_read(<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *databuf, <span class="keywordtype">int</span> len)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> read(fd, databuf, len);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//往文件中写内容</span></div>
<div class="line"><span class="keywordtype">int</span> file_write(<span class="keywordtype">int</span> fd, <span class="keyword">const</span> <span class="keywordtype">void</span> *databuf, <span class="keywordtype">int</span> len)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> write(fd, databuf, len);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//文件截断，截断后的长度为len字节</span></div>
<div class="line"><span class="keywordtype">int</span> file_truncate(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> len)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> ftruncate(fd, len);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//文件刷新，底层暂不支持此操作</span></div>
<div class="line"><span class="keywordtype">int</span> file_flush(<span class="keywordtype">int</span> fd)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//文件存在返回1，文件不存在返回0</span></div>
<div class="line"><span class="keywordtype">int</span> file_exist(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathname)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> !access(pathname, F_OK) ? 1 : 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//获取文件的大小，返回负数表示失败，</span></div>
<div class="line"><span class="keywordtype">int</span> file_get_size(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathname)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> fd = -1, ret = -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span>{</div>
<div class="line">        fd = open(pathname, O_RDONLY);</div>
<div class="line">        <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;open fail, ret=%d, errno=%d\n&quot;</span>, ret, errno);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ret = lseek(fd, 0, SEEK_END);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;lseek ret=%d, errno=%d\n&quot;</span>, ret, errno);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        close(fd);</div>
<div class="line">    }<span class="keywordflow">while</span>(0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//删除文件</span></div>
<div class="line"><span class="keywordtype">int</span> file_remove(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathname)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> remove(pathname);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//更换文件名称</span></div>
<div class="line"><span class="keywordtype">int</span> file_rename(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldname, <span class="keyword">const</span> <span class="keywordtype">char</span> *newname)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> rename(oldname, newname);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//文件系统的测试入口</span></div>
<div class="line"><span class="keywordtype">int</span> fs_module_test(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> retval = 0;</div>
<div class="line">    <span class="keywordtype">int</span> fd;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> tmp_data[] = <span class="stringliteral">&quot;++++++++++++++++&quot;</span>;</div>
<div class="line">    <span class="keywordtype">int</span> tmp_data_len = strlen(tmp_data);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> file_data[] = <span class="stringliteral">&quot;0123456789abcdef0123456789abcdef0123456789abcdef&quot;</span>;</div>
<div class="line">    <span class="keywordtype">int</span> file_data_len = strlen(file_data);</div>
<div class="line">    <span class="keywordtype">char</span> file_read_buf[128];</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *tmp1_file = <span class="stringliteral">&quot;/home/user0/tmp1.log&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *tmp2_file = <span class="stringliteral">&quot;/home/user0/tmp2.log&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    retval = file_get_size(<span class="stringliteral">&quot;/home/sbin/download.bin&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;download.bin file size = %d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (file_exist(tmp1_file)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;open exist file ...\n&quot;</span>);</div>
<div class="line">        fd = file_open(tmp1_file, O_RDWR);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;create new file ...\n&quot;</span>);</div>
<div class="line">        fd = file_open(tmp1_file, O_CREAT|O_RDWR);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;open file fail, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line">        retval = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> exit_entry;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//向文件中写入测试数据</span></div>
<div class="line">    retval = file_write(fd, file_data, file_data_len);</div>
<div class="line">    printf(<span class="stringliteral">&quot;write file, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//将源文件的读写指针移到起始位置</span></div>
<div class="line">    retval = file_seek(fd, 0, SEEK_SET);</div>
<div class="line">    printf(<span class="stringliteral">&quot;seek file, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//读取写入的文件数据</span></div>
<div class="line">    memset(file_read_buf, 0, <span class="keyword">sizeof</span>(file_read_buf));</div>
<div class="line">    retval = file_read(fd, file_read_buf, <span class="keyword">sizeof</span>(file_read_buf));</div>
<div class="line">    printf(<span class="stringliteral">&quot;read file, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//比对读出的数据和写入的数据</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;read-data-1: %s\n&quot;</span>, file_read_buf);</div>
<div class="line">    <span class="keywordflow">if</span> (file_data_len != retval ||</div>
<div class="line">        memcmp(file_read_buf, file_data, file_data_len)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;read data mismatched !!!\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;read data OK !!!\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//将源文件的读写指针移到从文件尾部位置往前偏移16个字节</span></div>
<div class="line">    retval = file_seek(fd, -16, SEEK_END);</div>
<div class="line">    printf(<span class="stringliteral">&quot;seek file, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//重新写入一段测试数据</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">//向文件中写入测试数据</span></div>
<div class="line">    retval = file_write(fd, tmp_data, tmp_data_len);</div>
<div class="line">    printf(<span class="stringliteral">&quot;write file 2, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//将源文件的读写指针移到起始位置</span></div>
<div class="line">    retval = file_seek(fd, 0, SEEK_SET);</div>
<div class="line">    printf(<span class="stringliteral">&quot;seek file 2, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//读取写入的文件数据</span></div>
<div class="line">    memset(file_read_buf, 0, <span class="keyword">sizeof</span>(file_read_buf));</div>
<div class="line">    retval = file_read(fd, file_read_buf, <span class="keyword">sizeof</span>(file_read_buf));</div>
<div class="line">    printf(<span class="stringliteral">&quot;read file 2, retval=%d\n&quot;</span>, retval);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//比对读出的数据和写入的数据</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;read-data-2: %s\n&quot;</span>, file_read_buf);</div>
<div class="line">    <span class="keywordflow">if</span> (file_data_len != retval ||</div>
<div class="line">        memcmp(file_read_buf, file_data, file_data_len - tmp_data_len) ||</div>
<div class="line">        memcmp(file_read_buf + file_data_len - tmp_data_len, tmp_data, tmp_data_len)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;read data mismatched !!!\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;read data OK !!!\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//刷新一下文件操作</span></div>
<div class="line">    retval = file_flush(fd);</div>
<div class="line">    printf(<span class="stringliteral">&quot;flush file, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//关闭文件</span></div>
<div class="line">    retval = file_close(fd);</div>
<div class="line">    printf(<span class="stringliteral">&quot;close file, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//文件重命名操作</span></div>
<div class="line">    <span class="keywordflow">if</span> (file_exist(tmp2_file)) {</div>
<div class="line">        <span class="comment">//当tmp2_file存在时，rename会报错，errno=17，所以需要先删除tmp2_file</span></div>
<div class="line">        retval = file_remove(tmp2_file);</div>
<div class="line">        printf(<span class="stringliteral">&quot;remove file2, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line"> </div>
<div class="line">        retval = file_rename(tmp1_file, tmp2_file);</div>
<div class="line">        printf(<span class="stringliteral">&quot;rename file, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        retval = file_rename(tmp1_file, tmp2_file);</div>
<div class="line">        printf(<span class="stringliteral">&quot;rename file, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//获取新的文件长度</span></div>
<div class="line">    retval = file_get_size(tmp2_file);</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s file size = %d, errno=%d\n&quot;</span>, tmp2_file, retval, errno);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//删除文件</span></div>
<div class="line">    retval = file_remove(tmp2_file);</div>
<div class="line">    printf(<span class="stringliteral">&quot;remove file, retval=%d, errno=%d\n&quot;</span>, retval, errno);</div>
<div class="line"> </div>
<div class="line">exit_entry:</div>
<div class="line">    <span class="keywordflow">return</span> retval;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if 0 //日志输出示例</span></div>
<div class="line">download.bin file size = 466600</div>
<div class="line">create <span class="keyword">new</span> file ...</div>
<div class="line">pathname = /home/user0/tmp1.log flag = 202 O_CREAT = 200</div>
<div class="line">creat or open file</div>
<div class="line">write file, retval=48</div>
<div class="line">seek file, retval=0</div>
<div class="line">read file, retval=48</div>
<div class="line">read-data-1: 0123456789abcdef0123456789abcdef0123456789abcdef</div>
<div class="line">read data OK !!!</div>
<div class="line">seek file, retval=32</div>
<div class="line">write file 2, retval=16</div>
<div class="line">seek file 2, retval=0</div>
<div class="line">read file 2, retval=48</div>
<div class="line">read-data-2: 0123456789abcdef0123456789abcdef++++++++++++++++</div>
<div class="line">read data OK !!!</div>
<div class="line">flush file, retval=0, errno=2</div>
<div class="line">close file, retval=0, errno=2</div>
<div class="line">rename file, retval=0, errno=2</div>
<div class="line">/home/user0/tmp2.log file size = 48, errno=2</div>
<div class="line">remove file, retval=0, errno=2</div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --> <br  />
 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
